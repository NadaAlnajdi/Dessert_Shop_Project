<main>
  <div class="container-fluid px-4">
    <h1 class="mt-4">Dashboard</h1>

    <div class="row">
      <div class="col-xl-3 col-md-6">
        <div class="card bg-primary text-white mb-4">
          <div class="card-body">
            <h3>All Users</h3>
            <p class="fs-3">{{ allUsers }}</p>
          </div>
          <div
            class="card-footer d-flex align-items-center justify-content-between"
          >
            <a
              class="small text-white stretched-link"
              routerLink="/admin//users"
              >View Details</a
            >
            <div class="small text-white">
              <i class="fas fa-angle-right"></i>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-md-6">
        <div class="card bg-success text-white mb-4">
          <div class="card-body">
            <h3>All Products</h3>
            <p class="fs-3">{{ allProducts }}</p>
          </div>
          <div
            class="card-footer d-flex align-items-center justify-content-between"
          >
            <a
              class="small text-white stretched-link"
              routerLink="/admin//products"
              >View Details</a
            >
            <div class="small text-white">
              <i class="fas fa-angle-right"></i>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-md-6">
        <div class="card bg-warning text-white mb-4">
          <div class="card-body">
            <h3>All Orders</h3>
            <p class="fs-3">{{ allOrders }}</p>
          </div>
          <div
            class="card-footer d-flex align-items-center justify-content-between"
          >
            <a
              class="small text-white stretched-link"
              routerLink="/admin//orders"
              >View Details</a
            >
            <div class="small text-white">
              <i class="fas fa-angle-right"></i>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-md-6">
        <div class="card bg-danger text-white mb-4">
          <div class="card-body">
            <h3>All Promotions</h3>
            <p class="fs-3">{{ allPromotions }}</p>
          </div>
          <div
            class="card-footer d-flex align-items-center justify-content-between"
          >
            <a
              class="small text-white stretched-link"
              routerLink="/admin/promotions"
              >View Details</a
            >
            <div class="small text-white">
              <i class="fas fa-angle-right"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Start Latest Registered Users -->
    <div class="card mb-4">
      <div class="card-header bg-primary text-white">
        <i class="fas fa-users me-1"></i>
        Latest Registered Users
      </div>
      <div class="card-body">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>First Name</th>
              <th>Last Name</th>
              <th>Email Address</th>
              <th>Gender</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of latestUsers; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ user.first_name | titlecase }}</td>
              <td>{{ user.last_name | titlecase }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.gender | titlecase }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <!-- End Latest Registered Users -->

    <!-- Start Latest Products -->
    <div class="card mb-4 text-capitalize">
      <div class="card-header bg-success text-white">
        <i class="fa-solid fa-cake-candles me-1"></i>
        Latest Added Products
      </div>
      <div class="card-body">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>Title</th>
              <th>Price</th>
              <th>Stock Quantity</th>
              <th>Category</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let product of latestProducts; let i = index">
              <th>{{ i + 1 }}</th>
              <td>{{ product.title | titlecase }}</td>
              <td>{{ product.price | currency }}</td>
              <td>{{ product.stock_quantity }}</td>
              <td>{{ product.category.name | titlecase }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <!-- End Latest products -->

    <!-- Start Latest Created Orders -->
    <div class="card mb-4 text-capitalize">
      <div class="card-header bg-warning text-white">
        <i class="fas fa-diagram-project me-1"></i>
        Latest Created Orders
      </div>
      <div class="card-body">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>User</th>
              <th>Order Date</th>
              <th>Total Price</th>
              <th>Shipping Address</th>
              <th>Phone Number</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let order of latestOrders; let i = index">
              <td>{{ i + 1 }}</td>
              <td>
                {{ order.shipping_address.user.first_name | titlecase }}
                {{ order.shipping_address.user.last_name | titlecase }}
              </td>
              <td>{{ order.date | date : "dd-MM-yyyy" }}</td>
              <td>{{ order.total_price | currency }}</td>
              <td>
                {{ order.shipping_address.city | titlecase }},
                {{ order.shipping_address.state | titlecase }},
                {{ order.shipping_address.street }}
              </td>
              <td>{{ order.shipping_address.phone_number }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <!-- End Latest Created Orders -->

    <!-- Start Latest Created Promotions -->
    <div class="card mb-4 text-capitalize">
      <div class="card-header bg-danger text-white">
        <i class="fas fa-rectangle-ad me-1"></i>
        Latest Created Promotions
      </div>
      <div class="card-body">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>#</th>
              <th>Title</th>
              <th>Discount</th>
              <th>Start Date</th>
              <th>End Date</th>
              <th>Is Active</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let promotion of latestPromotions; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ promotion.title | titlecase }}</td>
              <td>{{ promotion.discount }}%</td>
              <td>{{ promotion.start_date | date : "dd-MM-yyyy" }}</td>
              <td>{{ promotion.end_date | date : "dd-MM-yyyy" }}</td>
              <td>{{ promotion.is_active ? "Yes" : "No" }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <!-- End Latest Created Promotions -->
  </div>
</main>
